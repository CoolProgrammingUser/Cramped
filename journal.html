<!DOCTYPE html>
<html>
    <head>
        <script src="behavior.js"></script>
        <script>
            // makes a section to jump to certain parts of the page
            window.addEventListener("load", function() {
                var contents = document.createElement("div");
                contents.innerHTML = "<h2>Jump to:</h2>";
                document.body.insertBefore(contents, document.getElementById("entries"));  // .insertBefore() only works for the immediate descendants of the parent
                var entries = document.getElementById("entries").getElementsByTagName("h2");
                var toTop = document.createElement("a");
                toTop.href = "#top";
                toTop.innerHTML = "To top";
                for (var index=0; index<entries.length; index++) {  // I would use (var in array), but index exceeds entries.length for no apparent reason
                    var inside = entries[index].innerHTML.trim();  // The inner HTML has a bunch of whitespace for no apparent reason.
                    entries[index].id = inside;
                    contents.innerHTML += "<p><a href='#" + inside + "'>" + inside + "</a></p>";
                    // You'll probably need referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling); for inserting after the heading.
                    document.getElementById("entries").insertBefore(toTop.cloneNode(true), document.getElementById("entries").getElementsByTagName("p")[index]);
                    // toTop needs to be cloned so it doesn't keep getting reasigned to the next place (it also needs to have true to clone all children of the node, although it doesn't apply here)
                }
                contents.innerHTML += "<br>";
            });
        </script>
        <link rel="stylesheet" href="formatting.css">
        <style>
        </style>
    <head>
    <body>
        <h1 id="top">
            Journal
        </h1>
        <p>
            Trial number = 24
        </p>
        <div id="entries">
            <h2>
                This is an entry.
            </h2>
            <p>
                Blah, blah, blah.
            </p>
            <br>
            <br>
            <br>
            <br>
            <h2>
                This is a second entry.
            </h2>
            <p>
                More blah, blah, and blah.
            </p>
            <br>
            <br>
            <br>
            <br>
            <h2>
                This is a final entry.
            </h2>
            <p>
                Blah.
            </p>
        </div>
    </body>
<html>
